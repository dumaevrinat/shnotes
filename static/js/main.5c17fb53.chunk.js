(this.webpackJsonplq_users_detection=this.webpackJsonplq_users_detection||[]).push([[0],{113:function(e,t,a){e.exports=a(144)},118:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=(a(118),a(56)),l=a(15),s=a(37),u=a(96),m=a(7),f={isOpen:!1,error:{message:null}},d={user:null,userLoading:!0,userNotFound:!1},g={searchUsersLoading:!1,searchUsers:[]},p=a(39),E={accounts:[]},h={tasks:[]},b=Object(s.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.payload});case"SET_OPEN_ERROR":return Object(m.a)(Object(m.a)({},e),{},{isOpen:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(m.a)(Object(m.a)({},e),{},{userLoading:t.payload});case"GET_USER":return Object(m.a)(Object(m.a)({},e),{},{user:t.payload});case"SET_USER_NOT_FOUND":return Object(m.a)(Object(m.a)({},e),{},{userNotFound:t.payload});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_USER":return Object(m.a)(Object(m.a)({},e),{},{searchUsers:t.payload});case"SEARCH_USER_LOADING":return Object(m.a)(Object(m.a)({},e),{},{searchUsersLoading:t.payload});case"SEARCH_USER_CLEAR":return Object(m.a)(Object(m.a)({},e),{},{searchUsers:[]});default:return e}},accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ACCOUNTS":return Object(m.a)(Object(m.a)({},e),{},{accounts:[].concat(Object(p.a)(e.accounts),Object(p.a)(t.payload))});case"CLEAR_TASKS":return Object(m.a)(Object(m.a)({},e),{},{accounts:[]});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return Object(m.a)(Object(m.a)({},e),{},{tasks:[t.payload].concat(Object(p.a)(e.tasks))});case"DELETE_TASK":return Object(m.a)(Object(m.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t.payload}))});case"UPDATE_TASK":return Object(m.a)(Object(m.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id===t.payload.id?t.payload:e}))});case"CLEAR_TASKS":return Object(m.a)(Object(m.a)({},e),{},{tasks:[]});default:return e}}}),O=Object(s.d)(b,Object(s.a)(u.a)),v=a(40),j=a(14),y=a(189),k=a(188),_=a(191),x=a(68),w=a(192),S=a(193),C=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column"},title:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}}}));function N(){var e=C(),t=Object(j.f)();return r.a.createElement(y.a,{maxWidth:"sm",className:e.root},r.a.createElement(_.a,{in:!0},r.a.createElement("div",null,r.a.createElement(x.a,{variant:"h4",className:e.title},"User not found :("),r.a.createElement(w.a,{variant:"outlined",size:"large",startIcon:r.a.createElement(S.a,null),onClick:function(){t.push("/")}},"Main page"))))}var R=a(38),A=a.n(R),D=function(e){return{type:"SET_OPEN_ERROR",payload:e}},U=function(e){return function(t){t({type:"CREATE_ERROR",payload:e}),t(D(!0))}},I=function(e){return{type:"USER_LOADING",payload:e}},T=function(e){return{type:"SET_USER_NOT_FOUND",payload:e}},L=a(226),W=a(199),B=a(41),z=a(227),H=a(194),P=a(220),q=Object(k.a)((function(e){return{root:{display:"flex",alignItems:"center",marginRight:e.spacing(2),marginLeft:e.spacing(2)},value:{marginRight:e.spacing(1)}}}));function F(e){var t=e.text,a=e.value,n=q();return r.a.createElement("div",{className:n.root},r.a.createElement(x.a,{className:n.value,variant:"subtitle2"},r.a.createElement(P.a,{fontSize:"h6.fontSize"},a)),r.a.createElement(x.a,{variant:"subtitle2",color:"textSecondary"},t))}var G=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{width:e.spacing(16),height:e.spacing(16)},title:{margin:e.spacing(1),marginBottom:e.spacing(2)},biography:{whiteSpace:"pre-line"},stats:Object(B.a)({display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(2)},e.breakpoints.down("xs"),{flexDirection:"column"})}}));function M(e){var t=e.username,a=e.fullName,n=e.biography,c=e.profilePicUrl,o=e.postsCount,i=e.followersCount,l=e.followingCount,s=G();return r.a.createElement("div",{className:s.root},r.a.createElement(H.a,{in:!0},r.a.createElement(z.a,{className:s.avatar,src:c})),r.a.createElement("div",null,r.a.createElement("div",{className:s.title},r.a.createElement(x.a,{variant:"h6"},r.a.createElement(P.a,{textAlign:"center"},t)),r.a.createElement(x.a,{variant:"overline",color:"textSecondary"},r.a.createElement(P.a,{textAlign:"center",fontSize:"h6.fontSize"},a)),r.a.createElement(x.a,{component:"div",className:s.biography},r.a.createElement(P.a,{textAlign:"center"},n))),r.a.createElement("div",{className:s.stats},r.a.createElement(F,{text:"Posts",value:o}),r.a.createElement(F,{text:"Followers",value:i}),r.a.createElement(F,{text:"Following",value:l}))))}var K=a(195),J=a(197),Z=a(196),X=a(46),Y=a.n(X),$=a(66),Q=function(e){return{type:"UPDATE_TASK",payload:e}},V=function(e){return function(){var t=Object($.a)(Y.a.mark((function t(a,n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n().tasks.tasks.find((function(e){return!0===e.isWorking}))){t.next=7;break}return a(Q(Object(m.a)(Object(m.a)({},e),{},{isWorking:!0}))),t.next=5,a(e.action.apply(e,Object(p.a)(e.args).concat([e.stoppedCallback])));case 5:a(Q(Object(m.a)(Object(m.a)({},e),{},{isWorking:!1,isDone:!0}))),a((function(e,t){var a=t().tasks.tasks.find((function(e){return!1===e.isWorking&&!1===e.isDone}));a&&e(V(a))}));case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},ee=a(224),te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return A.a.get("https://www.instagram.com/graphql/query/",{params:{query_id:0x3f779f8f0baa12,shortcode:e,first:a,after:t}})},ae=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ne=function(e,t){return function(){var a=Object($.a)(Y.a.mark((function a(n,r){var c,o;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=!0,o="";case 2:if(!(c&&(i=r().tasks.tasks.find((function(e){return e.id===t})),i&&i.isWorking))){a.next=9;break}return a.next=5,ae(4e3);case 5:return a.next=7,te(e,o).then((function(e){if(e.data.data){var t=e.data.data.shortcode_media.edge_liked_by;n({type:"ADD_ACCOUNTS",payload:t.edges}),c=t.page_info.has_next_page,o=t.page_info.end_cursor}else n(U({message:"Error getting information from Instagram"})),c=!1})).catch((function(e){n(U({message:"Error getting information from Instagram"})),c=!1}));case 7:a.next=2;break;case 9:case"end":return a.stop()}var i}),a)})));return function(e,t){return a.apply(this,arguments)}}()},re=a(198),ce=Object(k.a)((function(e){return{root:{maxWidth:480},content:{padding:e.spacing(1)},cover:{maxHeight:480}}}));function oe(e){var t=e.shortcode,a=e.likeCount,n=e.commentCount,c=e.previewLink,o=ce(),i=Object(l.b)();return r.a.createElement(K.a,{className:o.root,variant:"outlined"},r.a.createElement(Z.a,{component:"img",className:o.cover,image:c}),r.a.createElement(J.a,{className:o.content},r.a.createElement(F,{value:a,text:"Likes"}),r.a.createElement(F,{value:n,text:"Comments"})),r.a.createElement(re.a,null,r.a.createElement(w.a,{onClick:function(){return function(e,t){var a=Object(ee.a)(),n={id:a,isWorking:!1,isDone:!1,action:ne,args:[e,a],name:t};i(function(e){return{type:"ADD_TASK",payload:e}}(n)),i(V(n))}(t)}},"Get likes")))}var ie=a(200),le=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},media:{display:"flex",flexDirection:"column"}}}));function se(e){var t=le(),a=Object(l.b)(),c=Object(j.f)(),o=Object(l.c)((function(e){return e.error.isOpen})),i=Object(l.c)((function(e){return e.error.error})),s=Object(l.c)((function(e){return e.user.user})),u=Object(l.c)((function(e){return e.user.userLoading})),m=Object(l.c)((function(e){return e.user.userNotFound}));Object(n.useEffect)((function(){var t;a(T(!1)),a((t=e.match.params.username,function(e){e(I(!0)),A.a.get("https://www.instagram.com/".concat(t),{params:{__a:1}}).then((function(t){t.data.graphql?e({type:"GET_USER",payload:t.data.graphql.user}):e(U({message:"Error getting information from Instagram"})),e(I(!1))})).catch((function(t){t.response&&404===t.response.status?e(T(!0)):e(U({message:"Error getting information from Instagram"})),e(I(!1))}))}))}),[a,e.match.params.username]),Object(n.useEffect)((function(){m&&c.push("/usernotfound")}),[m]);return r.a.createElement(y.a,{maxWidth:"md",className:t.root},u&&r.a.createElement(W.a,null),m&&r.a.createElement("div",null,"User not found"),!m&&!u&&r.a.createElement("div",null,r.a.createElement(M,{username:s.username,fullName:s.full_name,biography:s.biography,profilePicUrl:s.profile_pic_url,postsCount:s.edge_owner_to_timeline_media.count,followersCount:s.edge_followed_by.count,followingCount:s.edge_follow.count}),r.a.createElement(ie.a,{container:!0,spacing:3},s.edge_owner_to_timeline_media.edges.map((function(e){return r.a.createElement(H.a,{in:!0},r.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center",item:!0,xs:12,sm:6,md:4},r.a.createElement(oe,{key:e.node.id,shortcode:e.node.shortcode,likeCount:e.node.edge_liked_by.count,commentCount:e.node.edge_media_to_comment.count,previewLink:e.node.thumbnail_resources[4].src})))})))),r.a.createElement(L.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3,open:o,message:i.message,onClose:function(e,t){"clickaway"!==t&&a(D(!1))}}))}var ue=a(208),me=a(201),fe=a(225),de=a(106),ge=a(202),pe=a(101),Ee=a.n(pe),he=a(203),be=a(100),Oe=a.n(be),ve=function(e){return{type:"SEARCH_USER_LOADING",payload:e}},je=a(205),ye=a(228),ke=a(206),_e=a(207),xe=a(3),we=a(204),Se=a(223),Ce=Object(k.a)((function(e){return{root:Object(B.a)({display:"flex",flexDirection:"column",zIndex:1,width:"100%",maxWidth:"100%",overflowX:"hidden",background:e.palette.background.light,transition:e.transitions.create("all",{duration:e.transitions.duration.short})},e.breakpoints.up("xs"),{maxWidth:500}),expandedSearch:{background:e.palette.common.white},search:{display:"flex",alignItems:"center",padding:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},searchInput:{marginLeft:e.spacing(2),flexGrow:1},results:{display:"flex",flexDirection:"column",alignItems:"flex-start",overflowY:"auto",maxHeight:450}}}));function Ne(){var e=Ce(),t=Object(j.f)(),a=Object(l.b)(),c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],u=o[1],m=Object(l.c)((function(e){return e.search.searchUsers})),f=Object(l.c)((function(e){return e.search.searchUsersLoading})),d=Object(n.useState)(""),g=Object(i.a)(d,2),p=g[0],E=g[1],h=Object(n.useCallback)(Oe.a.debounce((function(e){return a(function(e){return function(t){t(ve(!0)),A.a.get("https://www.instagram.com/web/search/topsearch/",{params:{query:e}}).then((function(e){e.data.users?t({type:"SEARCH_USER",payload:e.data.users}):t(U({message:"Error getting information from Instagram"})),t(ve(!1))})).catch((function(){t(U({message:"Error getting information from Instagram"})),t(ve(!1))}))}}(e))}),500),[]);return r.a.createElement(de.a,{elevation:s?1:0,className:Object(xe.a)(e.root,s&&e.expandedSearch)},r.a.createElement("div",{className:e.search},r.a.createElement(Se.a,{xsDown:!0},r.a.createElement(Ee.a,{color:"action"})),r.a.createElement(fe.a,{className:e.searchInput,value:p,placeholder:"Search",onChange:function(e){return function(e){E(e),h(e)}(e.target.value)},onFocus:function(){return u(!0)},onBlur:function(){return u(!1)}}),(p||0!==m.length)&&r.a.createElement(me.a,{color:"inherit",size:"small",onClick:function(){return E(""),void a({type:"SEARCH_USER_CLEAR"})}},r.a.createElement(ge.a,null))),r.a.createElement(he.a,{in:s&&f,timeout:150},r.a.createElement(we.a,null)),r.a.createElement(he.a,{in:s&&0!==m.length,timeout:150},r.a.createElement(je.a,{dense:!0,className:e.results},m.map((function(e){return r.a.createElement(ye.a,{button:!0,key:e.user.pk,onClick:function(){var a;((a=e.user.username)||""!==a)&&(t.push("/u/".concat(a)),E(""))}},r.a.createElement(ke.a,null,r.a.createElement(z.a,{src:e.user.profile_pic_url})),r.a.createElement(_e.a,{primary:r.a.createElement(P.a,{component:"div",textOverflow:"ellipsis",overflow:"hidden"},e.user.username)}))})))))}var Re=a(210),Ae=a(211),De=a(102),Ue=a.n(De),Ie=a(209),Te=r.a.createContext(),Le=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"flex-start",height:e.spacing(8),marginBottom:e.spacing(2),padding:e.spacing(1),width:"100%"},menuButton:{marginRight:e.spacing(1)},settings:{display:"flex",marginLeft:"auto"},infoButton:{marginRight:e.spacing(1)}}}));function We(){var e=Le(),t=Object(n.useContext)(Te).toggleMenu,a=Object(l.c)((function(e){return e.accounts.accounts})),c=Object(l.c)((function(e){return e.tasks.tasks}));return r.a.createElement(ue.a,{position:"sticky",color:"inherit",elevation:0,className:e.root},r.a.createElement(me.a,{className:e.menuButton,onClick:function(){return t()}},r.a.createElement(Ue.a,null)),r.a.createElement(Ne,null),r.a.createElement(Se.a,{xsDown:!0},r.a.createElement("div",{className:e.settings},r.a.createElement(me.a,{className:e.infoButton},r.a.createElement(Ie.a,{showZero:!0,max:9999,badgeContent:a.length,color:"primary"},r.a.createElement(Re.a,null))),r.a.createElement(me.a,{className:e.infoButton},r.a.createElement(Ie.a,{showZero:!0,badgeContent:"".concat(c.filter((function(e){return!0===e.isDone})).length,"/").concat(c.length),color:"secondary"},r.a.createElement(Ae.a,null))))))}var Be=a(103),ze=a(229),He=a(219),Pe=a(221),qe=a(212),Fe=a(214),Ge=a(213),Me=Object(k.a)((function(e){return{root:{},title:{padding:e.spacing(1)},list:{display:"flex",flexDirection:"column",width:260,padding:0},nested:{paddingLeft:e.spacing(4)},link:{textDecoration:"none",color:"inherit"}}}));function Ke(e){var t=e.isOpenMenu,a=Me(),c=Object(j.f)(),o=Object(n.useContext)(Te).toggleMenu;return r.a.createElement(Pe.a,{className:a.root,open:t,onClose:function(){return o()}},r.a.createElement(ye.a,{button:!0,onClick:function(){return o(),void c.push("/")}},r.a.createElement(x.a,{variant:"h6",className:a.title},"Account scraper")),r.a.createElement(qe.a,null),r.a.createElement(je.a,{className:a.list,subheader:r.a.createElement(Ge.a,null,"Settings")},r.a.createElement(ye.a,{button:!0,onClick:function(){}},r.a.createElement(Fe.a,{className:a.itemIconNotebook},r.a.createElement(Re.a,null)),r.a.createElement(_e.a,{primary:"Accounts"})),r.a.createElement(ye.a,{button:!0,onClick:function(){return o(),void c.push("/tasks")}},r.a.createElement(Fe.a,{className:a.itemIconNotebook},r.a.createElement(Ae.a,null)),r.a.createElement(_e.a,{primary:"Tasks"}))))}var Je=a(215),Ze=a(216),Xe=a(217),Ye=a(218),$e=a(222),Qe=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}}));function Ve(){var e=Qe(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.tasks.tasks}));return r.a.createElement(y.a,{maxWidth:"md",className:e.root},r.a.createElement(_.a,{in:!0},r.a.createElement("div",null,r.a.createElement(x.a,{variant:"overline"},r.a.createElement(P.a,{fontWeight:"fontWeightMedium"},"Tasks")),r.a.createElement(de.a,null,r.a.createElement(je.a,null,a.map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(_e.a,{primary:e.name,secondary:e.id}),r.a.createElement($e.a,{checked:e.isWorking,icon:r.a.createElement(Je.a,null),checkedIcon:r.a.createElement(Ze.a,null)}),r.a.createElement(w.a,{size:"small",startIcon:r.a.createElement(Xe.a,null),onClick:function(){return t(Q(Object(m.a)(Object(m.a)({},e),{},{isWorking:!1})))}},"stop"),e.isDone&&r.a.createElement(Ye.a,null))})))))))}var et=Object(Be.a)({palette:{primary:{main:"#ea80fc",light:"#6effe8",dark:"#00b686"},secondary:{main:"#7c4dff",light:"#9162e4",dark:"#280680"},background:{light:"#f1f3f4"}}});function tt(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(l.a,{store:O},r.a.createElement(He.a,{theme:Object(ze.a)(et)},r.a.createElement(Te.Provider,{value:{toggleMenu:function(){c(!a)}}},r.a.createElement(v.a,null,r.a.createElement(Ke,{isOpenMenu:a}),r.a.createElement(We,null),r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/usernotfound",component:N}),r.a.createElement(j.a,{path:"/u/:username",component:se}),r.a.createElement(j.a,{path:"/tasks",component:Ve}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.5c17fb53.chunk.js.map